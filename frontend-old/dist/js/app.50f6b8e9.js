(()=>{"use strict";var e={826:(e,t,s)=>{var a=s(751),o=s(220),n=s(641);const r={id:"app"},l={class:"navbar"},i={class:"nav-container"},c={class:"nav-links"},d={class:"main-content"};function u(e,t){const s=(0,n.g2)("router-link"),a=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)("div",r,[(0,n.Lk)("nav",l,[(0,n.Lk)("div",i,[t[2]||(t[2]=(0,n.Lk)("h1",{class:"nav-title"},"Event Manager",-1)),(0,n.Lk)("div",c,[(0,n.bF)(s,{to:"/events",class:"nav-link"},{default:(0,n.k6)(()=>t[0]||(t[0]=[(0,n.eW)("Events",-1)])),_:1,__:[0]}),(0,n.bF)(s,{to:"/create-event",class:"nav-link"},{default:(0,n.k6)(()=>t[1]||(t[1]=[(0,n.eW)("Create Event",-1)])),_:1,__:[1]})])])]),(0,n.Lk)("main",d,[(0,n.bF)(a)])])}var v=s(262);const m={},h=(0,v.A)(m,[["render",u]]),g=h;var p=s(33);const k={class:"event-list"},f={class:"page-header"},b={class:"controls"},y={class:"search-box"},L={class:"filter-box"},E=["value"],C={key:0,class:"table-container"},w={class:"events-table"},_=["onClick"],D={key:1,class:"no-events"},P={key:2,class:"pagination"},M=["disabled"],T={class:"page-info"},F=["disabled"],X={class:"modal-actions"},O={key:5,class:"loading"};function x(e,t,s,o,r,l){const i=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",k,[(0,n.Lk)("div",f,[t[11]||(t[11]=(0,n.Lk)("h2",null,"Event List",-1)),(0,n.bF)(i,{to:"/create-event",class:"btn btn-primary"},{default:(0,n.k6)(()=>t[10]||(t[10]=[(0,n.eW)("Create New Event",-1)])),_:1,__:[10]})]),(0,n.Lk)("div",b,[(0,n.Lk)("div",y,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.searchName=e),onInput:t[1]||(t[1]=(...e)=>l.searchEvents&&l.searchEvents(...e)),type:"text",placeholder:"Search by event name...",class:"search-input"},null,544),[[a.Jo,r.searchName]])]),(0,n.Lk)("div",L,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>r.selectedLocation=e),onChange:t[3]||(t[3]=(...e)=>l.searchEvents&&l.searchEvents(...e)),class:"location-filter"},[t[12]||(t[12]=(0,n.Lk)("option",{value:""},"All Locations",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.locations,e=>((0,n.uX)(),(0,n.CE)("option",{key:e,value:e},(0,p.v_)(e),9,E))),128))],544),[[a.u1,r.selectedLocation]])])]),r.events.length>0?((0,n.uX)(),(0,n.CE)("div",C,[(0,n.Lk)("table",w,[t[13]||(t[13]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Name"),(0,n.Lk)("th",null,"Date"),(0,n.Lk)("th",null,"Location"),(0,n.Lk)("th",null,"Description"),(0,n.Lk)("th",null,"Actions")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.events,e=>((0,n.uX)(),(0,n.CE)("tr",{key:e.id},[(0,n.Lk)("td",null,(0,p.v_)(e.name),1),(0,n.Lk)("td",null,(0,p.v_)(l.formatDate(e.date)),1),(0,n.Lk)("td",null,(0,p.v_)(e.location),1),(0,n.Lk)("td",null,(0,p.v_)(e.description||"No description"),1),(0,n.Lk)("td",null,[(0,n.Lk)("button",{onClick:t=>l.confirmDelete(e),class:"btn btn-danger btn-sm"}," Delete ",8,_)])]))),128))])])])):((0,n.uX)(),(0,n.CE)("div",D,[(0,n.Lk)("p",null,[t[15]||(t[15]=(0,n.eW)("No events found. ",-1)),(0,n.bF)(i,{to:"/create-event"},{default:(0,n.k6)(()=>t[14]||(t[14]=[(0,n.eW)("Create your first event",-1)])),_:1,__:[14]})])])),r.totalPages>1?((0,n.uX)(),(0,n.CE)("div",P,[(0,n.Lk)("button",{onClick:t[4]||(t[4]=e=>l.changePage(r.currentPage-1)),disabled:0===r.currentPage,class:"btn btn-secondary"}," Previous ",8,M),(0,n.Lk)("span",T," Page "+(0,p.v_)(r.currentPage+1)+" of "+(0,p.v_)(r.totalPages),1),(0,n.Lk)("button",{onClick:t[5]||(t[5]=e=>l.changePage(r.currentPage+1)),disabled:r.currentPage>=r.totalPages-1,class:"btn btn-secondary"}," Next ",8,F)])):(0,n.Q3)("",!0),r.showDeleteModal?((0,n.uX)(),(0,n.CE)("div",{key:3,class:"modal-overlay",onClick:t[9]||(t[9]=(...e)=>l.closeDeleteModal&&l.closeDeleteModal(...e))},[(0,n.Lk)("div",{class:"modal",onClick:t[8]||(t[8]=(0,a.D$)(()=>{},["stop"]))},[t[16]||(t[16]=(0,n.Lk)("h3",null,"Confirm Delete",-1)),(0,n.Lk)("p",null,'Are you sure you want to delete "'+(0,p.v_)(r.eventToDelete?.name)+'"?',1),(0,n.Lk)("div",X,[(0,n.Lk)("button",{onClick:t[6]||(t[6]=(...e)=>l.closeDeleteModal&&l.closeDeleteModal(...e)),class:"btn btn-secondary"},"Cancel"),(0,n.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>l.deleteEvent&&l.deleteEvent(...e)),class:"btn btn-danger"},"Delete")])])])):(0,n.Q3)("",!0),r.message?((0,n.uX)(),(0,n.CE)("div",{key:4,class:(0,p.C4)(["message",r.messageType])},(0,p.v_)(r.message),3)):(0,n.Q3)("",!0),r.loading?((0,n.uX)(),(0,n.CE)("div",O,"Loading events...")):(0,n.Q3)("",!0)])}var j=s(335);const S="http://localhost:8081/api/events";console.log("API Base URL:",S);const A=j.A.create({baseURL:S,headers:{"Content-Type":"application/json"},timeout:1e4});A.interceptors.request.use(e=>(console.log("API Request:",e.method?.toUpperCase(),e.url),e),e=>Promise.reject(e)),A.interceptors.response.use(e=>(console.log("API Response:",e.status,e.config.url),e),e=>(console.error("Response error:",e.response?.status,e.message),Promise.reject(e)));const N={async getEvents(e=0,t=5,s="",a=""){const o=new URLSearchParams({page:e,size:t});s&&o.append("name",s),a&&o.append("location",a);const n=await A.get(`/events?${o.toString()}`);return n.data},async createEvent(e){const t=await A.post("/events",e);return t.data},async deleteEvent(e){await A.delete(`/events/${e}`)},async getLocations(){const e=await A.get("/events/locations");return e.data||[]}},U={name:"EventList",data(){return{events:[],currentPage:0,totalPages:0,searchName:"",selectedLocation:"",locations:[],showDeleteModal:!1,eventToDelete:null,message:"",messageType:"",loading:!1}},async mounted(){await this.loadEvents(),await this.loadLocations()},methods:{async loadEvents(){try{this.loading=!0;const e=await N.getEvents(this.currentPage,5,this.searchName,this.selectedLocation);this.events=e.content||[],this.totalPages=e.totalPages||0}catch(e){this.showMessage("Error loading events. Please try again.","error")}finally{this.loading=!1}},async loadLocations(){try{const e=await N.getLocations();this.locations=e.data}catch(e){console.error("Error loading locations:",e)}},async searchEvents(){this.currentPage=0,await this.loadEvents()},async changePage(e){this.currentPage=e,await this.loadEvents()},confirmDelete(e){this.eventToDelete=e,this.showDeleteModal=!0},closeDeleteModal(){this.showDeleteModal=!1,this.eventToDelete=null},async deleteEvent(){try{await N.deleteEvent(this.eventToDelete.id),this.showMessage("Event deleted successfully","success"),this.closeDeleteModal(),await this.loadEvents()}catch(e){this.showMessage("Error deleting event","error")}},formatDate(e){return new Date(e).toLocaleDateString()},showMessage(e,t){this.message=e,this.messageType=t,setTimeout(()=>{this.message=""},3e3)}}},I=(0,v.A)(U,[["render",x],["__scopeId","data-v-1e8e190b"]]),Q=I,R={class:"event-form"},V={class:"form-header"},W={class:"form-group"},q={key:0,class:"error-message"},J={class:"form-group"},$={key:0,class:"error-message"},B={class:"form-group"},H=["min"],K={key:0,class:"error-message"},z={class:"form-group"},G={key:0,class:"error-message"},Y={class:"form-actions"},Z=["disabled"];function ee(e,t,s,o,r,l){const i=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",R,[(0,n.Lk)("div",V,[t[7]||(t[7]=(0,n.Lk)("h2",null,"Create New Event",-1)),(0,n.bF)(i,{to:"/events",class:"btn btn-secondary"},{default:(0,n.k6)(()=>t[6]||(t[6]=[(0,n.eW)("Back to Events",-1)])),_:1,__:[6]})]),(0,n.Lk)("form",{onSubmit:t[5]||(t[5]=(0,a.D$)((...e)=>l.submitForm&&l.submitForm(...e),["prevent"])),class:"form-container"},[(0,n.Lk)("div",W,[t[8]||(t[8]=(0,n.Lk)("label",{for:"name"},"Event Name *",-1)),(0,n.bo)((0,n.Lk)("input",{id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>r.form.name=e),type:"text",maxlength:"100",class:(0,p.C4)(["form-input",{error:r.errors.name}]),placeholder:"Enter event name"},null,2),[[a.Jo,r.form.name]]),r.errors.name?((0,n.uX)(),(0,n.CE)("div",q,(0,p.v_)(r.errors.name),1)):(0,n.Q3)("",!0)]),(0,n.Lk)("div",J,[t[9]||(t[9]=(0,n.Lk)("label",{for:"description"},"Description",-1)),(0,n.bo)((0,n.Lk)("textarea",{id:"description","onUpdate:modelValue":t[1]||(t[1]=e=>r.form.description=e),class:(0,p.C4)(["form-input",{error:r.errors.description}]),placeholder:"Enter event description (optional)",rows:"4"},null,2),[[a.Jo,r.form.description]]),r.errors.description?((0,n.uX)(),(0,n.CE)("div",$,(0,p.v_)(r.errors.description),1)):(0,n.Q3)("",!0)]),(0,n.Lk)("div",B,[t[10]||(t[10]=(0,n.Lk)("label",{for:"date"},"Event Date *",-1)),(0,n.bo)((0,n.Lk)("input",{id:"date","onUpdate:modelValue":t[2]||(t[2]=e=>r.form.date=e),type:"date",min:l.minDate,class:(0,p.C4)(["form-input",{error:r.errors.date}])},null,10,H),[[a.Jo,r.form.date]]),r.errors.date?((0,n.uX)(),(0,n.CE)("div",K,(0,p.v_)(r.errors.date),1)):(0,n.Q3)("",!0)]),(0,n.Lk)("div",z,[t[11]||(t[11]=(0,n.Lk)("label",{for:"location"},"Location *",-1)),(0,n.bo)((0,n.Lk)("input",{id:"location","onUpdate:modelValue":t[3]||(t[3]=e=>r.form.location=e),type:"text",class:(0,p.C4)(["form-input",{error:r.errors.location}]),placeholder:"Enter event location"},null,2),[[a.Jo,r.form.location]]),r.errors.location?((0,n.uX)(),(0,n.CE)("div",G,(0,p.v_)(r.errors.location),1)):(0,n.Q3)("",!0)]),(0,n.Lk)("div",Y,[(0,n.Lk)("button",{type:"button",onClick:t[4]||(t[4]=(...e)=>l.resetForm&&l.resetForm(...e)),class:"btn btn-secondary"},"Reset"),(0,n.Lk)("button",{type:"submit",disabled:r.loading,class:"btn btn-primary"},(0,p.v_)(r.loading?"Creating...":"Create Event"),9,Z)])],32),r.message?((0,n.uX)(),(0,n.CE)("div",{key:0,class:(0,p.C4)(["message",r.messageType])},(0,p.v_)(r.message),3)):(0,n.Q3)("",!0)])}const te={name:"EventForm",data(){return{form:{name:"",description:"",date:"",location:""},errors:{},loading:!1,message:"",messageType:""}},computed:{minDate(){const e=new Date;return e.setDate(e.getDate()+1),e.toISOString().split("T")[0]}},methods:{validateForm(){if(this.errors={},this.form.name.trim()?this.form.name.length>100&&(this.errors.name="Event name must not exceed 100 characters"):this.errors.name="Event name is required",this.form.date){const e=new Date(this.form.date),t=new Date;t.setHours(0,0,0,0),e<=t&&(this.errors.date="Event date must be in the future")}else this.errors.date="Event date is required";return this.form.location.trim()||(this.errors.location="Location is required"),0===Object.keys(this.errors).length},async submitForm(){if(this.validateForm())try{this.loading=!0,await N.createEvent(this.form),this.showMessage("Event created successfully!","success"),this.resetForm(),setTimeout(()=>{this.$router.push("/events")},2e3)}catch(e){this.showMessage("Error creating event. Please try again.","error")}finally{this.loading=!1}},resetForm(){this.form={name:"",description:"",date:"",location:""},this.errors={},this.message=""},showMessage(e,t){this.message=e,this.messageType=t,setTimeout(()=>{this.message=""},5e3)}}},se=(0,v.A)(te,[["render",ee],["__scopeId","data-v-388760a0"]]),ae=se,oe=[{path:"/",redirect:"/events"},{path:"/events",component:Q},{path:"/create-event",component:ae}],ne=(0,o.aE)({history:(0,o.LA)("/"),routes:oe}),re=(0,a.Ef)(g);re.config.errorHandler=(e,t,s)=>{console.error("Global error:",e,s)},re.use(ne).mount("#app")}},t={};function s(a){var o=t[a];if(void 0!==o)return o.exports;var n=t[a]={exports:{}};return e[a](n,n.exports,s),n.exports}s.m=e,(()=>{var e=[];s.O=(t,a,o,n)=>{if(!a){var r=1/0;for(d=0;d<e.length;d++){for(var[a,o,n]=e[d],l=!0,i=0;i<a.length;i++)(!1&n||r>=n)&&Object.keys(s.O).every(e=>s.O[e](a[i]))?a.splice(i--,1):(l=!1,n<r&&(r=n));if(l){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[a,o,n]}})(),(()=>{s.d=(e,t)=>{for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}})(),(()=>{s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{var e={524:0};s.O.j=t=>0===e[t];var t=(t,a)=>{var o,n,[r,l,i]=a,c=0;if(r.some(t=>0!==e[t])){for(o in l)s.o(l,o)&&(s.m[o]=l[o]);if(i)var d=i(s)}for(t&&t(a);c<r.length;c++)n=r[c],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(d)},a=self["webpackChunkevent_manager_frontend"]=self["webpackChunkevent_manager_frontend"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=s.O(void 0,[504],()=>s(826));a=s.O(a)})();
//# sourceMappingURL=app.50f6b8e9.js.map